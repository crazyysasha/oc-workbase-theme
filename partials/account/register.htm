{% if canRegister %}    
    <div x-data="{isOpen: false}" x-show="isOpen" x-cloak>
        <div @register-modal.window="isOpen = $event.detail" class="w-full fixed flex items-center justify-center overflow-auto z-50 bg-black bg-opacity-40 inset-0"
            x-transition:enter="transition ease duration-300" x-transition:enter-start="opacity-0"
            x-transition:enter-end="opacity-100" x-transition:leave="transition ease duration-300"
            x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
            <div x-show="isOpen"
                class="bg-white relative rounded-sm shadow-2xl p-3 md:p-10 smуа:w-10/12 mx-10 w-96"
                @click.away="isOpen = false" 
                x-transition:enter="transition ease duration-100 transform"
                x-transition:enter-start="opacity-0 scale-90 translate-y-1"
                x-transition:enter-end="opacity-100 scale-100 translate-y-0"
                x-transition:leave="transition ease duration-100 transform"
                x-transition:leave-start="opacity-100 scale-100 translate-y-0"
                x-transition:leave-end="opacity-0 scale-90 translate-y-1">
                <h3 class="font-semibold block text-xl md:text-xl mb-3 text-center mb-6">Регистрация</h3>
                <div class="absolute top-3 right-3 rounded-full bg-gray-300 justify-center flex items-center w-6 h-6 cursor-pointer group hover:bg-blue-900"
                    @click="isOpen = !isOpen">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 group-hover:text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </div>
                
                <form data-request="onRegister" data-request-validate data-request-flash>
                    <div class="flex mb-5 md:mb-8 justify-between text-gray-400"
                        x-data="{ type: 'customer'}">
                        <div class="">
                            <input id="radio-1" x-model="type" class="hidden" type="radio" name="type" value="customer" checked="">
                            <label @click="type = customer"
                                x-bind:class="{ 'border-orange-500 text-orange-500': type == 'customer'}"
                                class="cursor-pointer font-medium  text-sm md:text-md border rounded-sm w-25 md:w-36 p-2 justify-center items-center flex"
                                for="radio-1">Заказчик</label>
                        </div>
                        <div class="">
                            <input id="radio-2" x-model="type" class="hidden" type="radio" name="type" value="executor">
                            <label @click="type = executor"
                                x-bind:class="{ 'border-orange-500 text-orange-500': type == 'executor'}"
                                class="cursor-pointer font-medium text-sm md:text-md border rounded-sm w-25 md:w-36 p-2 justify-center items-center flex"
                                for="radio-2">Исполнитель</label>
                        </div>
                    </div>
                    
                    <div>
                        <input
                            class="w-full rounded-sm border font-medium text-sm mb-3  md:text-md py-2 px-4 block focus:outline-none"
                            placeholder="Имя" name="name" type="text">
                        <input
                            class="w-full rounded-sm border font-medium text-sm mb-3  md:text-md py-2 px-4 block focus:outline-none"
                            placeholder="Телефон" name="username" type="tel">
                        <input
                            class="w-full rounded-sm border font-medium text-sm mb-3  md:text-md py-2 px-4 block focus:outline-none"
                            placeholder="Email" name="email" type="email">
                        <input
                            class="w-full rounded-sm border font-medium text-sm mb-3  md:text-md py-2 px-4 block focus:outline-none"
                            placeholder="Пароль" autocomplet="new-password" name="password" type="password">
                        <input
                            class="w-full rounded-sm border font-medium text-sm mb-3  md:text-md py-2 px-4 block focus:outline-none"
                            placeholder="Повторите пароль" autocomplet="new-password" name="password_confirmation" type="password">
                        <button
                            class="w-full hover:bg-blue-700 focus:shadow-2xl rounded-full border border-blue-800 text-sm  md:text-md p-2 block focus:outline-none bg-blue-800 text-white font-bold my-5"
                            type="submit">Зарегестрироваться</button>
                    </div>
                    <div class="my-4">
                        <ul class="flex justify-center ">
                            <li>
                                <a href="#">
                                    <img width="30px" class="mx-2" src="{{'assets/images/facebook.svg' | theme}}" alt="">
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img width="30px" class="mx-2" src="{{'assets/images/ok.svg' | theme}}" alt="">
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img width="30px" class="mx-2" src="{{'assets/images/yandex.svg' | theme}}" alt="">
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img width="30px" class="mx-2" src="{{'assets/images/google.svg' | theme}}" alt="">
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <img width="30px" class="mx-2" src="{{'assets/images/vk.svg' | theme}}" alt="">
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="text-center">
                        <span class="text-gray-400 font-medium text-xs md:text-sm">
                            Есть аккаунт? 
                            <a href="#" 
                                @click="$dispatch('login-modal', true,isOpen = !isOpen)" 
                                @click="$dispatch('register-modal', false" 
                                class="text-blue-600 font-semibold"> 
                                    Войти
                            </a>
                        </span>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% else %}
    <h2>В данный момент, Регистрация не возможна.</h2>
{% endif %}